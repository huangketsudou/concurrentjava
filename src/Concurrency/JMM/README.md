### java内存模型

由于java中有指令重排序的存在，在没有同步时，在并发过程中可能导致意外的结果。

#### 简介

java内存模型通过各种操作来定义，包括对变量的读写与监视器的加锁，释放操作和线程的启动和合并操作。

JMM对所有的操作定义了一个偏序关系。称之为Happens-Before，

**要想保证执行操作B的线程看到操作A的结果，那么A和B之间必须满足Happens-Before关系**

如果两个操作之间缺乏happens-before关系，JVM就可以任意排序。

**happens-before规则**：

1. 程序顺序规则
2. 监视器锁规则
3. volatile规则
4. 线程启动规则
5. 线程结束规则
6. 中断规则
7. 终结器规则
8. 传递性

#### 发布

这一部分的内容与单例模式的实现高度相关，单例模式的实现必须会。

#### 初始化中的安全性

